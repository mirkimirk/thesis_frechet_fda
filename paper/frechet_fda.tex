\documentclass[12pt, a4paper, bibtotoc]{scrartcl}

% Margins
\usepackage[paper = a4paper, left = 30mm, right = 20mm, top = 20mm, bottom = 20mm]{geometry}
\geometry{a4paper}
% Spacing
\usepackage{setspace}
\onehalfspacing
% Fonts
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\setkomafont{sectioning}{\rmfamily\bfseries\boldmath}
% Headings above each page
\pagestyle{headings}
% Formatting
\widowpenalty = 10000
\clubpenalty = 10000
\setlength{\parskip}{1ex}
\setlength{\parindent}{0ex}
\setstretch{1.5}

% Useful packages
\usepackage{float, afterpage, rotating, graphicx}
\usepackage{epstopdf}
\usepackage{longtable, booktabs, tabularx}
\usepackage{fancyvrb, moreverb, relsize}
\usepackage{eurosym, calc}
\usepackage{amsmath, amssymb, amsfonts, amsthm, bm}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\usepackage{mathtools}
\usepackage{caption}
\usepackage{subcaption}
% \captionsetup[subfigure]{labelformat=empty}
\usepackage{mdwlist}
\usepackage{xfrac}
\usepackage[dvipsnames]{xcolor}
\usepackage{minibox}
\usepackage{pgf}
\usepackage{graphicx}
% For writing algorithms
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
% For Python code in appendix
\usepackage{listings}
\usepackage{xcolor}

\lstdefinestyle{python}{
    language=Python,
    basicstyle=\ttfamily\footnotesize,  % <-- updated here
    commentstyle=\color{olive},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{gray},
    numbers=left,
    breaklines=true,  % <-- added here
    tabsize=2  % <-- added here
}



% Bibliography
\usepackage[
    natbib = true,
    bibencoding = inputenc,
    bibstyle = ext-authoryear-ibid, % "ext" adds some finer configuration options
    citestyle = authoryear-comp,
    date=year,
    maxcitenames = 2,
    maxbibnames = 10,
    useprefix = false,
    sortcites = true,
    backend = biber
]{biblatex}
% \renewcommand*{\nameyeardelim}{\space}
\usepackage[unicode=true]{hyperref}
\hypersetup{
    colorlinks = true,
    linkcolor = black,
    anchorcolor = black,
    citecolor = black,
    filecolor = black,
    menucolor = black,
    runcolor = black,
    urlcolor = black,
    pdftitle = {Fréchet Regression and Functional Data},
    pdfauthor = {Mirkan Öcal}
}
% Dont show doi, url, or isbn
\ExecuteBibliographyOptions{doi = false, url = false, isbn = false}
% Supress pagetotal in textbook citations
\AtEveryBibitem{\clearfield{pagetotal}}
% Make titles sentence case
\DeclareFieldFormat
  [article,inbook,incollection,inproceedings,patent,thesis,unpublished]
  {titlecase:title}{\MakeSentenceCase*{#1}}
% \AtBeginDocument{\toggletrue{blx@useprefix}}
\AtBeginBibliography{\togglefalse{blx@useprefix}} % das is unnötig denke ich
\renewbibmacro*{begentry}{\midsentence} % damit Hans-Martins Präfix richtig funktioniert
% \setlength{\bibitemsep}{1.5ex}
\addbibresource{refs.bib}

% Custom commands
\newcommand{\inpr}[2]{\left \langle #1, #2 \right \rangle}
\newcommand{\norm}[1]{\|#1\|}

% Theorems etc.
\newtheoremstyle{break}
  {\topsep}{\topsep}%
  {\normalfont}{}%
  {\bfseries}{}%
  {\newline}{}%
\theoremstyle{break}
\newtheorem{definition}{Definition}[section]
\newtheorem{theorem}{Theorem}[definition]
\newtheorem{corollary}{Corollary}[definition]
\newtheorem{lemma}[definition]{Lemma}
\renewcommand\qedsymbol{$\blacksquare$}


\begin{document}

%Title Page
\begin{titlepage}
    \title{
        Fréchet Regression \\
        and Functional Data
    }
    \vspace{\fill}
    \author{}
    \date{}
    \maketitle

    \vspace{\fill}
    \begin{center}
        \large
        Master Thesis Presented to the

        Department of Economics at the

        Rheinische Friedrich-Wilhelms-Universität Bonn \\
        \ \\

        In Partial Fulfillment of the Requirements for the Degree of

        Master of Science (M.Sc.)

        \vspace{\fill}
        Supervisor: Prof. Dr. Alois Kneip

        \vspace{\fill}
        Submitted in October 2023 by:

        Mirkan Öcal

        Matriculation Number: 3346115
    \end{center}

    \thispagestyle{empty}
\end{titlepage}


% Table of Contents
\newpage % force start of new page
\pagenumbering{roman}
\tableofcontents    %   add TOC
\newpage % force start of new page
\listoffigures      %   add list of figures

% Main text
\newpage
\pagenumbering{arabic}

\section{Introduction}
\label{sec:introduction}
\input{Introduction.tex}

\section{Functional Data Analysis}
\label{sec:fda}
\input{FDA.tex}

\section{Density Regression}
\label{sec:density regression}
\input{Densities.tex}

\section{Fréchet Regression}
\label{sec:fréchet regression}
\input{Fréchet.tex}

\section{Application}
\label{sec:application}
\input{Application.tex}

\clearpage  % Flush all figures
\newpage
\section{Conclusion}
\label{sec:conclusion}
\input{Conclusion.tex}


%%%%%%%%%% BIBLIOGRAPY %%%%%%%%%%

\clearpage  % Flush all figures
\newpage

\nocite{Gaudecker2019}
\printbibliography

%%%%%%%% APPPENDIX %%%%%%%%%

\newpage
\appendix
\pagenumbering{Roman}

\section{Numerics}
\label{sec:numerics}
\input{Numerics.tex}

\clearpage  % Flush all figures
\newpage
\section{Code}
\label{sec:code}
\input{Code.tex}

\clearpage  % Flush all figures
\newpage
\section{Additional Figures}
\label{sec:figures}
\input{Figures.tex}

%%%%%%%%%% STATEMENT OF AUTHORSHIP %%%%%%%%%%

\newpage
\thispagestyle{empty}  % No page number
\null\vfill            % Center the text vertically
\begin{center}
I hereby confirm that the work presented has been performed and interpreted solely by
myself except for where I explicitly identified the contrary. I assure that this work has
not been presented in any other form for the fulfillment of any other degree or
qualification. Ideas taken from other works in letter and in spirit are identified
in every single case.
\end{center}

\vspace{2cm} % Create some space between the declaration and the date/signature lines

\begin{flushright}
\begin{tabular}{p{8cm}}
Date: \underline{\hspace{3cm}} \\ [1.0ex]
Signature: \underline{\hspace{3cm}}
\end{tabular}
\end{flushright}

\vfill\null
\newpage

\end{document}
